<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Animator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <meta name="description" content="Premium 16x16 Pixel Art Editor">
</head>

<body>
    <div class="app-background">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <main class="editor-container">
        <div class="workspace">
            <!-- Sidebar: Tools -->
            <aside class="panel tools-panel">
                <div class="tool-group">


                    <button class="tool-btn" id="tool-fill" data-tool="fill" title="Fill (F)">
                        Fill
                    </button>
                    <button class="tool-btn" id="tool-select" data-tool="select" title="Select (S)">
                        Select
                    </button>
                </div>

                <div class="action-group">
                    <button class="action-btn" id="action-undo" title="Undo (Cmd+Z)">
                        Undo
                    </button>
                    <button class="action-btn" id="action-redo" title="Redo (Cmd+Y)">
                        Redo
                    </button>
                    <button class="action-btn" id="action-clear" title="Clear Grid">
                        Clear
                    </button>

                </div>

                <!-- Color Palette (Desktop/Tablet Sidebar) -->
                <div class="palette-sidebar">
                    <h3>Recent</h3>
                    <div class="recent-colors-grid" id="recent-colors-sidebar-grid">
                        <!-- Recent colors generated by JS -->
                    </div>

                    <h3 id="palette-header-sidebar">Palette</h3>
                    <div class="transform-controls" id="transform-controls-sidebar" style="display: none;">
                        <button class="action-btn js-flip-h" title="Flip Horizontal (H)">Flip H</button>
                        <button class="action-btn js-flip-v" title="Flip Vertical (V)">Flip V</button>
                        <button class="action-btn js-rotate-l" title="Rotate Left (Q)">Rotate L</button>
                        <button class="action-btn js-rotate-r" title="Rotate Right (E)">Rotate R</button>
                    </div>
                    <div class="palette-grid" id="palette-sidebar-grid">
                        <!-- Palette items generated by JS -->
                    </div>
                </div>



            </aside>

            <!-- Main Canvas Area -->
            <div class="canvas-area">


                <!-- Main Sprite Editor (Active Frame) -->
                <div class="main-editor-container">
                    <div class="sprite-wrapper" style="position: relative;">
                        <!-- Onion Skin Layer (Behind) -->
                        <div id="onion-skin-editor" class="main-sprite-editor onion-skin-layer"
                            style="position: absolute; top: 0; left: 0; pointer-events: none; z-index: 0; opacity: 0.3; display: none; border: none; padding: 2px;">
                            <!-- Previous frame pixels will be generated by JS -->
                        </div>
                        <!-- Active Frame (Front) -->
                        <div class="main-sprite-editor" id="main-sprite-editor" style="position: relative; z-index: 1;">
                            <!-- Active sprite pixel grid will be generated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Palette (Mobile below canvas) -->
                <div class="palette-section palette-mobile">
                    <div class="recent-colors-grid" id="recent-colors-mobile-grid">
                        <!-- Recent colors generated by JS -->
                    </div>

                    <div class="transform-controls" id="transform-controls-mobile" style="display: none;">
                        <button class="action-btn js-flip-h" title="Flip Horizontal (H)">Flip H</button>
                        <button class="action-btn js-flip-v" title="Flip Vertical (V)">Flip V</button>
                        <button class="action-btn js-rotate-l" title="Rotate Left (Q)">Rotate L</button>
                        <button class="action-btn js-rotate-r" title="Rotate Right (E)">Rotate R</button>
                    </div>
                    <div class="palette-grid" id="palette-mobile-grid">
                        <!-- Palette items generated by JS -->
                    </div>
                </div>

                <!-- Timeline Filmstrip -->
                <div class="timeline-section">
                    <div class="timeline-header">
                        <div class="timeline-controls-left">
                            <span>Timeline</span>
                            <button id="btn-play-stop" class="control-btn-small">
                                Play
                            </button>
                            <button id="btn-onion" class="control-btn-small" title="Toggle Onion Skinning (O)">
                                Onion
                            </button>
                        </div>

                        <div class="file-controls">
                            <button id="btn-export" class="secondary-btn-small" title="Export PNG">
                                PNG
                            </button>
                            <button id="btn-export-json" class="secondary-btn-small" title="Export JSON">
                                JSON
                            </button>
                            <button id="btn-import-json" class="secondary-btn-small" title="Import JSON">
                                Import
                            </button>
                            <input type="file" id="json-file-input" accept=".json" style="display: none;" multiple>

                        </div>
                    </div>
                    <div class="timeline-container" id="timeline-container">
                        <!-- Timeline frames will be generated by JavaScript -->
                    </div>
                </div>
            </div>


        </div>
    </main>

    <!-- Hidden canvas for export -->
    <canvas id="export-canvas" width="16" height="16" style="display: none;"></canvas>

    <script src="script.js"></script>
</body>

</html>